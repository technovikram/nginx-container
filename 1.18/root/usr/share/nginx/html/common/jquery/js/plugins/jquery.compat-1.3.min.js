/*
 * Compatibility Plugin for jQuery 1.3 (on top of jQuery 1.4)
 * All code copied from jQuery 1.4
 * By John Resig
 * Dual licensed under MIT and GPL.
 */

(function(f){f.fn.add=function(g,h){var i=typeof g==="string"?f(g,h||this.context):f.makeArray(g);return this.pushStack(f.merge(this.get(),i))};f.fn.clone=function(h){var g=this.map(function(){if(!f.support.noCloneEvent&&!f.isXMLDoc(this)){var j=this.outerHTML,i=this.ownerDocument;if(!j){var k=i.createElement("div");k.appendChild(this.cloneNode(true));j=k.innerHTML}return f.clean([j.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/^\s+/,"")],i)[0]}else{return this.cloneNode(true)}});if(h===true){a(this,g);a(this.find("*"),g.find("*"))}return g};function a(j,g){var h=0;g.each(function(){if(this.nodeName!==(j[h]&&j[h].nodeName)){return}var m=f.data(j[h++]),i=m&&m.events;if(i){for(var l in i){for(var k in i[l]){f.event.add(this,l,i[l][k],i[l][k].data)}}}})}var e={},c=0;f.data=function(i,h,k){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()]){return}i=i==window?e:i;var l=i[f.expando],g=f.cache,j;if(!h&&!l){return null}if(!l){l=++c}if(typeof h==="object"){i[f.expando]=l;j=g[l]=f.extend(true,{},h)}else{if(g[l]){j=g[l]}else{if(typeof k==="undefined"){j={}}else{j=g[l]={}}}}if(k!==undefined){i[f.expando]=l;j[h]=k}return typeof h==="string"?j[h]:l};var b=f.fn.init;f.fn.init=function(g){if(g===undefined){return f(document)}return b.apply(this,arguments)};f.fn.init.prototype=b.prototype;var d=f.fn.val;f.fn.val=function(g){if(g!==undefined){var h=f.isFunction(g);return this.each(function(l){var k=f(this),m=g;if(this.nodeType!==1){return}if(h){m=g.call(this,l,k.val())}if(typeof m==="number"){m+=""}if(f.isArray(m)&&rradiocheck.test(this.type)){this.checked=f.inArray(k.val(),m)>=0||f.inArray(this.name,g)>=0}else{if(f.nodeName(this,"select")){var j=f.makeArray(m);f("option",this).each(function(){this.selected=f.inArray(f(this).val(),j)>=0||f.inArray(this.text,j)>=0});if(!j.length){this.selectedIndex=-1}}else{this.value=m}}})}return d.apply(this,arguments)};f.browser.version=(navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1];f.httpData=function(l,j,i){var h=l.getResponseHeader("content-type")||"",g=j==="xml"||!j&&h.indexOf("xml")>=0,k=g?l.responseXML:l.responseText;if(g&&k.documentElement.nodeName==="parsererror"){throw"parsererror"}if(i&&i.dataFilter){k=i.dataFilter(k,j)}if(typeof k==="string"){if(j==="json"||!j&&h.indexOf("json")>=0){k=(new Function("return "+k))()}}return k};f.ajaxSettings.traditional=true;f.className={add:function(g,h){f(g).addClass(h)},remove:function(g,h){f(g).removeClass(h)},has:function(h,g){f(h).hasClass(g)}};f.extend=f.fn.extend=function(){var m=arguments[0]||{},k=1,l=arguments.length,g=false,j,h,n,o;if(typeof m==="boolean"){g=m;m=arguments[1]||{};k=2}if(typeof m!=="object"&&!f.isFunction(m)){m={}}if(l===k){m=this;--k}for(;k<l;k++){if((j=arguments[k])!=null){for(h in j){n=m[h];o=j[h];if(m===o){continue}if(g&&o&&typeof o==="object"&&!o.nodeType){m[h]=f.extend(g,n||(o.length!=null?[]:{}),o)}else{if(o!==undefined){m[h]=o}}}}}return m}})(jQuery);